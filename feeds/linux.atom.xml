<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Programming for fun and profit - Linux</title><link href="https://slar.se/" rel="alternate"></link><link href="https://slar.se/feeds/linux.atom.xml" rel="self"></link><id>https://slar.se/</id><updated>2024-03-24T00:00:00+01:00</updated><subtitle>A blog about software engineering, programming languages and technical tinkering</subtitle><entry><title>Configuring touchpad tap in Sway</title><link href="https://slar.se/configuring-touchpad-in-sway.html" rel="alternate"></link><published>2024-03-24T00:00:00+01:00</published><updated>2024-03-24T00:00:00+01:00</updated><author><name>Simon Larsén</name></author><id>tag:slar.se,2024-03-24:/configuring-touchpad-in-sway.html</id><summary type="html">&lt;p&gt;One thing that didn't carry over from my i3 setup &lt;a href="https://slar.se/wayland-one-month-later.html"&gt;when moving over to
Sway (i.e. Wayland)&lt;/a&gt; was the touchpad
configuration. Input devices was a display server concern under X.Org, so the
window manager had nothing to do with it. Notably, now click-on-tap is not
working for me …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One thing that didn't carry over from my i3 setup &lt;a href="https://slar.se/wayland-one-month-later.html"&gt;when moving over to
Sway (i.e. Wayland)&lt;/a&gt; was the touchpad
configuration. Input devices was a display server concern under X.Org, so the
window manager had nothing to do with it. Notably, now click-on-tap is not
working for me, which is massively annoying.&lt;/p&gt;
&lt;p&gt;If you're just here for the touchpad click-on-tap configuration, it looks like this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"type:touchpad"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;dwt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;dwtp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;tap&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;tap_button_map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;lrm&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But if you want to improve your understanding of how to configure input devices
such as touchpads and mice in a Wayland compositor, then read on!&lt;/p&gt;
&lt;h1&gt;Configuring a libinput device in Sway&lt;/h1&gt;
&lt;p&gt;We need to add a libinput&lt;sup id="sf-configuring-touchpad-in-sway-1-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-1" class="simple-footnote" title="libinput is a stack for common input devices, such as keyboards, touchpads and mice. Read more in the Wayland wiki."&gt;1&lt;/a&gt;&lt;/sup&gt;
configuration into the Sway config file, which is usually located at
&lt;code&gt;~/.config/sway/config&lt;/code&gt;. The Sway wiki &lt;a href="https://github.com/swaywm/sway/wiki#libinput-config-options"&gt;has a small example for libinput
devices&lt;/a&gt; but it
doesn't really say all that much. Generally, an input configuration should look
like this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;input &amp;lt;selector&amp;gt; {
    option value
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For the selector, we can use either the device identifier, or the type of the
device. I prefer the device type, i.e. &lt;code&gt;"type:touchpad"&lt;/code&gt;, as I use the same
configuration file for multiple devices that don't share touchpad
identifiers&lt;sup id="sf-configuring-touchpad-in-sway-2-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-2" class="simple-footnote" title="Note that the type selector will select all devices of that type. If you have multiple devices that identify as touchpads, you may want to be more specific and use the identifier."&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;You can run &lt;code&gt;swaymsg -t get_inputs&lt;/code&gt; to get information about your devices. You
will get a ton of output, but somewhere you'll find a device that has &lt;code&gt;Type:
Touchpad&lt;/code&gt;. Mine looks like this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;swaymsg&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;get_inputs
...
Input&lt;span class="w"&gt; &lt;/span&gt;device:&lt;span class="w"&gt; &lt;/span&gt;SYNA1D31:00&lt;span class="w"&gt; &lt;/span&gt;06CB:CD48&lt;span class="w"&gt; &lt;/span&gt;Touchpad
&lt;span class="w"&gt;  &lt;/span&gt;Type:&lt;span class="w"&gt; &lt;/span&gt;Touchpad
&lt;span class="w"&gt;  &lt;/span&gt;Identifier:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1739&lt;/span&gt;:52552:SYNA1D31:00_06CB:CD48_Touchpad
&lt;span class="w"&gt;  &lt;/span&gt;Product&lt;span class="w"&gt; &lt;/span&gt;ID:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;52552&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;Vendor&lt;span class="w"&gt; &lt;/span&gt;ID:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1739&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;Libinput&lt;span class="w"&gt; &lt;/span&gt;Send&lt;span class="w"&gt; &lt;/span&gt;Events:&lt;span class="w"&gt; &lt;/span&gt;enabled
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We can however get a whole lot more information about each device with the
&lt;code&gt;--raw&lt;/code&gt; option&lt;sup id="sf-configuring-touchpad-in-sway-3-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-3" class="simple-footnote" title="When piping swaymsg output to another command, --raw is implicit. I use it here explicitly for clarity."&gt;3&lt;/a&gt;&lt;/sup&gt;. Combining that with
&lt;code&gt;jq&lt;/code&gt;&lt;sup id="sf-configuring-touchpad-in-sway-4-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-4" class="simple-footnote" title="If you don't know how to use jq, do yourself the biggest favor of the year and learn it."&gt;4&lt;/a&gt;&lt;/sup&gt; we can get only touchpads out of the command. On all my
devices, I only have a single touchpad device. It should look something like
this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;swaymsg&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;get_inputs&lt;span class="w"&gt; &lt;/span&gt;--raw&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jq&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'.[] | select(.type=="touchpad")'&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"identifier"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"1739:52552:SYNA1D31:00_06CB:CD48_Touchpad"&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"name"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"SYNA1D31:00 06CB:CD48 Touchpad"&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"vendor"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1739&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"product"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;52552&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"type"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"touchpad"&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"scroll_factor"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.0,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"libinput"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"send_events"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"disabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap_button_map"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"lrm"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap_drag"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap_drag_lock"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"disabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"accel_speed"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"accel_profile"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"adaptive"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"natural_scroll"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"disabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"left_handed"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"disabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"click_method"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"button_areas"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"middle_emulation"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"disabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"scroll_method"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"two_finger"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"dwt"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"dwtp"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This gives us everything we need to configure the touchpad, and we can also see
if our configuration takes effect correctly. The options shown under &lt;code&gt;libinput&lt;/code&gt;
is what we have to play with. The names aren't necessarily self-explanatory, but
you can find decent descriptions of them in the &lt;code&gt;sway-input(5)&lt;/code&gt;&lt;sup id="sf-configuring-touchpad-in-sway-5-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-5" class="simple-footnote" title="Run man 5 sway-input to get the given page. See my article on man page sections if the 5 is confusing to you."&gt;5&lt;/a&gt;&lt;/sup&gt;man
page under the &lt;code&gt;LIBINPUT CONFIGURATION&lt;/code&gt; section.&lt;/p&gt;
&lt;p&gt;I'm going to set the options that are crucial for how I use a touchpad,
regardless of what their defaults are. These options are:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"type:touchpad"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;tap&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enables&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;click&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;tap&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;tap_button_map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;lrm&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;tap&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;finger&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;click&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;fingers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;click&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;fingers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;middle&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;click&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;dwt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;disable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;touchpad&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;typing&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;dwtp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;enabled&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;disable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;touchpad&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;track&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;pointing&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Putting this in my &lt;code&gt;~/.config/sway/config&lt;/code&gt;&lt;sup id="sf-configuring-touchpad-in-sway-6-back"&gt;&lt;a href="#sf-configuring-touchpad-in-sway-6" class="simple-footnote" title="To see exactly how I use this in my Sway config, refer to my config repository."&gt;6&lt;/a&gt;&lt;/sup&gt;,
reloading the environment and then checking the settings shows that &lt;code&gt;tap&lt;/code&gt; is
now enabled.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;swaymsg&lt;span class="w"&gt; &lt;/span&gt;reload
$&lt;span class="w"&gt; &lt;/span&gt;swaymsg&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;get_inputs&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jq&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'.[] | select(.type=="touchpad")'&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"identifier"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"1739:52552:SYNA1D31:00_06CB:CD48_Touchpad"&lt;/span&gt;,
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;"libinput"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"tap_button_map"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"lrm"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"dwt"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;,
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;"dwtp"&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"enabled"&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that's that, click-on-tap now works again!&lt;/p&gt;
&lt;h1&gt;Summary&lt;/h1&gt;
&lt;p&gt;In this article, I outlined how to configure a touchpad in Sway. The principles
shown here carry over to any kind of libinput device, and should also be
applicable in most other Wayland compositors.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-configuring-touchpad-in-sway-1"&gt;libinput is a stack for common input devices, such
as keyboards, touchpads and mice. Read more &lt;a href="https://wayland.freedesktop.org/libinput/doc/latest/what-is-libinput.html"&gt;in the Wayland
wiki&lt;/a&gt;. &lt;a href="#sf-configuring-touchpad-in-sway-1-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-configuring-touchpad-in-sway-2"&gt;Note that the type selector will select &lt;em&gt;all&lt;/em&gt; devices of that
type. If you have multiple devices that identify as touchpads, you may want to
be more specific and use the identifier. &lt;a href="#sf-configuring-touchpad-in-sway-2-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-configuring-touchpad-in-sway-3"&gt;When piping &lt;code&gt;swaymsg&lt;/code&gt; output to another command, &lt;code&gt;--raw&lt;/code&gt; is
implicit. I use it here explicitly for clarity. &lt;a href="#sf-configuring-touchpad-in-sway-3-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-configuring-touchpad-in-sway-4"&gt;If you don't know how to use &lt;code&gt;jq&lt;/code&gt;, do yourself the biggest favor of the
year and learn it. &lt;a href="#sf-configuring-touchpad-in-sway-4-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-configuring-touchpad-in-sway-5"&gt;Run &lt;code&gt;man 5
sway-input&lt;/code&gt; to get the given page. See my article on &lt;a href="https://slar.se/man-page-numbering.html"&gt;man page
sections&lt;/a&gt; if the &lt;code&gt;5&lt;/code&gt; is confusing to you. &lt;a href="#sf-configuring-touchpad-in-sway-5-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-configuring-touchpad-in-sway-6"&gt;To see exactly how I use this in
my Sway config, refer to &lt;a href="https://github.com/slarse/config/commit/21b524a956bd942424aa944fa70cce01dd005ea8"&gt;my config
repository&lt;/a&gt;. &lt;a href="#sf-configuring-touchpad-in-sway-6-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Linux"></category><category term="linux"></category><category term="wayland"></category><category term="sway"></category></entry><entry><title>First impressions of Wayland on Arch Linux</title><link href="https://slar.se/wayland-one-month-later.html" rel="alternate"></link><published>2024-02-04T00:00:00+01:00</published><updated>2024-02-04T00:00:00+01:00</updated><author><name>Simon Larsén</name></author><id>tag:slar.se,2024-02-04:/wayland-one-month-later.html</id><summary type="html">&lt;p&gt;Wayland appears to be the future of window systems in the world of Linux,
replacing the aging X.Org window system. The &lt;a href="https://wiki.archlinux.org/title/Xorg"&gt;Arch Wiki article on
X.Org&lt;/a&gt; refers to it as "the alternative
and successor [of X.Org]" and Canonical even dropped its own &lt;a href="https://wiki.ubuntu.com/Wayland"&gt;Mir display
server in favor …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Wayland appears to be the future of window systems in the world of Linux,
replacing the aging X.Org window system. The &lt;a href="https://wiki.archlinux.org/title/Xorg"&gt;Arch Wiki article on
X.Org&lt;/a&gt; refers to it as "the alternative
and successor [of X.Org]" and Canonical even dropped its own &lt;a href="https://wiki.ubuntu.com/Wayland"&gt;Mir display
server in favor of Wayland on Ubuntu&lt;/a&gt;.
So when it became time for me to configure a new laptop in the beginning of
January, I decided to do give Wayland a go. Here's what I think of it so far.&lt;/p&gt;
&lt;h1&gt;What the heck is a window system?&lt;/h1&gt;
&lt;p&gt;First of all, what the heck is a window system? In short, it's the component
that renders graphical windows to your screen and communicates the user's input
to the underlying operating system. The X Window System, or just X for short, is
the reigning king of window systems in UNIX-like operating systems (excepting
macOS which uses &lt;a href="https://en.wikipedia.org/wiki/Quartz_Compositor"&gt;Quartz&lt;/a&gt;). You
will often see it referred to as X.Org; this is simply the most commonly used
&lt;a href="https://www.x.org/wiki/"&gt;open source implementation of X&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I could try to outline what X.Org's problems are and how Wayland solves many of
them, but I simply don't have the level of understanding necessary to do so
confidently. One thing to note is that Wayland is first and foremost a
&lt;em&gt;protocol&lt;/em&gt; for the communication between a display server and applications. A
display server can implement the Wayland protocol and is then referred to as a
Wayland &lt;em&gt;compositor&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If you want to learn more, &lt;a href="https://linuxiac.com/xorg-x11-wayland-linux-display-servers-and-protocols-explained/"&gt;here's a brief article on the
subjecp&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Wayland first impressions with Sway&lt;/h1&gt;
&lt;p&gt;I recently setup Wayland on a brand new work computer, and going from a clean
slate setup was really effortless. I chose &lt;a href="https://swaywm.org/"&gt;Sway&lt;/a&gt; as my
compositor and started it. And it just kind of worked. Outside of &lt;a href="https://github.com/slarse/config/blob/d8ba6671a2245be75c5fa3b4fdfef3df61cc93a0/sway/config"&gt;configuring
Sway to my
liking&lt;/a&gt;,
I didn't really have to do much of anything for it to work.&lt;/p&gt;
&lt;p&gt;On my private Dell XPS 15 &lt;a href="https://slar.se/xps-15-9520-arch-linux-intel-dri2.html"&gt;where I'm already running
X.Org&lt;/a&gt;, setting up
Wayland was similarly effortless. I just installed Sway, and even though it
doesn't support &lt;a href="https://github.com/swaywm/sway/wiki#nvidia-users"&gt;NVIDIA's proprietary
drivers&lt;/a&gt;, running Sway with
the &lt;code&gt;--unsuported-gpu&lt;/code&gt; option just worked.&lt;/p&gt;
&lt;p&gt;All-in-all, setup was a breeze and I did not encounter any problems at all.&lt;/p&gt;
&lt;h2&gt;Upsides of Sway&lt;/h2&gt;
&lt;p&gt;I immediately noticed some improvements in my desktop experience. The first came
when connecting an external display, which Sway just found and started
outputting an image to. In almost a decade of using X.Org on just shy of a half
dozen devices, that has never happened before without effort on my part.&lt;/p&gt;
&lt;p&gt;I was also treated with a complete lack of screen tearing when scrolling
websites and documents, which I had a lot of under X.Org. I'm sure there's a way
to configure that away with X and I never bothered to look into it more than
stating that it wasn't as easy as toggling a flag, but it was just for free with
Wayland. Now that it's gone I would have a hard time going back to it.&lt;/p&gt;
&lt;p&gt;Finally, most things just kind of work. It's a &lt;em&gt;big&lt;/em&gt; accolade to note that over
a whole month of use, I haven't encountered a single show-stopping problem. But
I have definitely encountered quite a few lesser ones.&lt;/p&gt;
&lt;h2&gt;Downsites of Sway&lt;/h2&gt;
&lt;p&gt;Pretty much all of the downsides I've encountered have to do with the fact that
a lot of applications I've used over the years were written for X.Org. This
means that many applications run under the the 
&lt;a href="https://wayland.freedesktop.org/xserver.html"&gt;XWayland&lt;/a&gt; compatibility layer,
which nullifies the performance improvements of Wayland's architecture. I've
especially noted that startup times for GUI apps that run under XWayland are
slow compared to running X.Org directly.&lt;/p&gt;
&lt;p&gt;Another problem is that apps directly related to X.Org typically just do not
function. For example, I've been using the &lt;a href="https://imagemagick.org/script/import.php"&gt;&lt;code&gt;import&lt;/code&gt; command from
&lt;code&gt;imagemagick&lt;/code&gt;&lt;/a&gt; to grab snippeted
screenshots for nigh on a decade, and it doesn't work at all with Wayland as it
expects to work with an X.Org backend. Similarly,
&lt;a href="https://wiki.archlinux.org/title/Redshift"&gt;Redshift&lt;/a&gt; which I've been using for
years to adjust color temperature does not support Wayland. It results in a whole
lot of &lt;a href="https://www.reddit.com/r/wayland/comments/si49y1/redshift_alternatives_for_wayland/?rdt=39794"&gt;&lt;insert program&gt; alternative for
Wayland&lt;/a&gt;
kinds of searches, but they usually bear fruit. I found &lt;a href="https://sr.ht/~emersion/grim/"&gt;&lt;code&gt;grim&lt;/code&gt; as a replacement
for &lt;code&gt;import&lt;/code&gt;&lt;/a&gt; and &lt;a href="https://gitlab.com/chinstrap/gammastep"&gt;&lt;code&gt;gammastep&lt;/code&gt; as a replacement
for &lt;code&gt;redshift&lt;/code&gt;&lt;/a&gt; that way.&lt;/p&gt;
&lt;p&gt;The incompatibility with Redshift does bring up another interesting point,
namely that Wayland is still neither complete nor stable. &lt;a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/14"&gt;Color management is for
example still not
standardized&lt;/a&gt;.
In some respects, stepping into the land of Way feels a bit like using a beta
product.&lt;/p&gt;
&lt;h1&gt;Conclusions&lt;/h1&gt;
&lt;p&gt;Will I keep using Wayland? Definitely. I've only encountered a few very minor
problems with application compatibility, and most I've found alternatives for.
I'm even a little bit excited to find some need completely unfulfilled in the
land of Wayland applications, because that would give me a good reason to
implement it myself.&lt;/p&gt;</content><category term="Linux"></category><category term="linux"></category><category term="wayland"></category><category term="xorg"></category><category term="x11"></category></entry><entry><title>What does the number in a man page mean?</title><link href="https://slar.se/man-page-numbering.html" rel="alternate"></link><published>2023-10-24T00:00:00+02:00</published><updated>2023-10-24T00:00:00+02:00</updated><author><name>Simon Larsén</name></author><id>tag:slar.se,2023-10-24:/man-page-numbering.html</id><summary type="html">&lt;p&gt;If you open a &lt;code&gt;man&lt;/code&gt; page on a *NIX system (such as a Linux distro), you'll
always see a number next to the subject of the &lt;code&gt;man&lt;/code&gt; page. Like &lt;code&gt;GIT(1)&lt;/code&gt;,
&lt;code&gt;SUDO(8)&lt;/code&gt; or &lt;code&gt;open(n)&lt;/code&gt;. What's that thing in parentheses? To cut a long
story short, it's the &lt;em&gt;section …&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you open a &lt;code&gt;man&lt;/code&gt; page on a *NIX system (such as a Linux distro), you'll
always see a number next to the subject of the &lt;code&gt;man&lt;/code&gt; page. Like &lt;code&gt;GIT(1)&lt;/code&gt;,
&lt;code&gt;SUDO(8)&lt;/code&gt; or &lt;code&gt;open(n)&lt;/code&gt;. What's that thing in parentheses? To cut a long
story short, it's the &lt;em&gt;section&lt;/em&gt; the &lt;code&gt;man&lt;/code&gt; page belongs to. Let's discover
what that means.&lt;/p&gt;
&lt;h1&gt;&lt;code&gt;man&lt;/code&gt; pages are divided into sections&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;man&lt;/code&gt; pages act as a system reference manual on any *NIX system. All &lt;code&gt;man&lt;/code&gt; pages
have a heading containing the name of the page, its section and a very short
description. Something like this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;name&amp;gt;(&amp;lt;#section&amp;gt;)     &amp;lt;description&amp;gt;     &amp;lt;name&amp;gt;(&amp;lt;#section&amp;gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As a concrete example, here's the first line you get if you execute &lt;code&gt;man git&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;GIT(1)                         Git Manual                        GIT(1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The name is self-explanatory, is is the short description, but the section
number is not so transparent in its meaning. To find out what it means,
we can actually consult the &lt;code&gt;man&lt;/code&gt; page for the &lt;code&gt;man&lt;/code&gt; program itself.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;man&lt;/span&gt;
&lt;span class="n"&gt;MAN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;                     &lt;/span&gt;&lt;span class="n"&gt;Manual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pager&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;MAN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[...]&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;below&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;shows&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;section&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;numbers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;followed&lt;/span&gt;
&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pages&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;they&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;contain&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;

&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Executable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;programs&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;calls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;provided&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Library&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;calls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;within&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;program&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;libraries&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Special&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;usually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;found&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;File&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;formats&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;conventions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;passwd&lt;/span&gt;
&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Games&lt;/span&gt;
&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Miscellaneous&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;including&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;macro&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;packages&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;and&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;conventions&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;groff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;administration&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;usually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;only&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;Kernel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;routines&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Non&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;standard&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This sectioning makes it possible to have multiple &lt;code&gt;man&lt;/code&gt; pages with the same
name, but in different sections. By default, you'll get only one result when
executing &lt;code&gt;man &amp;lt;name&amp;gt;&lt;/code&gt;, and which one you get is dependent on a pre-defined
search order. Which, of course, we can also find in the &lt;code&gt;man&lt;/code&gt; page for &lt;code&gt;man&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sections&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;may&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;overridden&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;envi&lt;/span&gt;&lt;span class="err"&gt;‐&lt;/span&gt;
&lt;span class="n"&gt;ronment&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;variable&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;MANSECT&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;SECTION&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;directive&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;man_db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;follows&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In my personal experience, the default search order most often gives you what
you want. But sometimes it doesn't, and then you need to figure out how to find
the man page you're after.&lt;/p&gt;
&lt;h1&gt;Selecting man pages from different sections&lt;/h1&gt;
&lt;p&gt;To select a page from a particular section, you specify the section before the
name. For example, as indicated by the excerpt from &lt;code&gt;MAN(1)&lt;/code&gt; above, there's also
a &lt;code&gt;man(7)&lt;/code&gt;. We can get it like so.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;man&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;man
man&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;Miscellaneous&lt;span class="w"&gt; &lt;/span&gt;Information&lt;span class="w"&gt; &lt;/span&gt;Manual&lt;span class="w"&gt;             &lt;/span&gt;man&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But what if you don't actually know which section the man page you're looking
for is in, you only know that the one you're looking at isn't the one? Then you
can use &lt;code&gt;whatis&lt;/code&gt;. For example, I have four different man pages named &lt;code&gt;open&lt;/code&gt; on
my machine.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;whatis&lt;span class="w"&gt; &lt;/span&gt;open
open&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;             &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;open&lt;span class="w"&gt; &lt;/span&gt;and&lt;span class="w"&gt; &lt;/span&gt;possibly&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;file
open&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;3p&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;open&lt;span class="w"&gt; &lt;/span&gt;file
open&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;3perl&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;perl&lt;span class="w"&gt; &lt;/span&gt;pragma&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;default&lt;span class="w"&gt; &lt;/span&gt;PerlIO&lt;span class="w"&gt; &lt;/span&gt;layers&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;input&lt;span class="w"&gt; &lt;/span&gt;and&lt;span class="w"&gt; &lt;/span&gt;output
open&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;n&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;             &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;Open&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;file-based&lt;span class="w"&gt; &lt;/span&gt;or&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;command&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;pipeline&lt;span class="w"&gt; &lt;/span&gt;channel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here you can also see a couple of section numbers that look a bit different,
namely &lt;code&gt;3perl&lt;/code&gt; and &lt;code&gt;n&lt;/code&gt;. These don't belong to any of the standard sections, but
you can open them just the same. For example, &lt;code&gt;man 3perl open&lt;/code&gt; would open the
&lt;code&gt;open&lt;/code&gt; page from the custom &lt;code&gt;3perl&lt;/code&gt; section.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: If you don't see all available man pages when running &lt;code&gt;whatis&lt;/code&gt; for a
particular page, your &lt;code&gt;man&lt;/code&gt; database is out-of-date, you may want to run
&lt;code&gt;mandb&lt;/code&gt; manually (or whatever is equivalent on your system) to rebuild the
search index.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;And that's all!&lt;/h1&gt;
&lt;p&gt;Now you should hopefully be a bit more confident in finding the man page you're
looking for. And if at any point you forget what I've written here, almost all
of the information is available just a &lt;code&gt;man man&lt;/code&gt; away!&lt;/p&gt;</content><category term="Linux"></category><category term="linux"></category><category term="man"></category></entry><entry><title>The Linux /etc/passwd file, and why it doesn't contain passwords</title><link href="https://slar.se/etc-passwd.html" rel="alternate"></link><published>2020-08-02T11:51:33+00:00</published><updated>2020-08-02T12:15:33+00:00</updated><author><name>Simon Larsén</name></author><id>tag:slar.se,2020-08-02:/etc-passwd.html</id><summary type="html">&lt;p&gt;On any Linux distribution, there's a file located at &lt;code&gt;/etc/passwd&lt;/code&gt;. This file
contains information about users that exist on the system, including their
username, user id, group id and more. In this short article, I'll outline the
structure of the &lt;code&gt;/etc/passwd&lt;/code&gt; file, and also illuminate why it doesn't …&lt;/p&gt;</summary><content type="html">&lt;p&gt;On any Linux distribution, there's a file located at &lt;code&gt;/etc/passwd&lt;/code&gt;. This file
contains information about users that exist on the system, including their
username, user id, group id and more. In this short article, I'll outline the
structure of the &lt;code&gt;/etc/passwd&lt;/code&gt; file, and also illuminate why it doesn't
typically contain any passwords.&lt;/p&gt;
&lt;h2&gt;Layout of the &lt;code&gt;/etc/passwd&lt;/code&gt; file&lt;/h2&gt;
&lt;p&gt;The layout of the &lt;code&gt;/etc/passwd&lt;/code&gt; file is fairly simple. Each line represents a
user on the system, with different fields being separated by colons as follows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;UID&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;GID&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;GECOS&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;shell&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;name&lt;/code&gt; and &lt;code&gt;password&lt;/code&gt; are the username and password of the user, &lt;code&gt;UID&lt;/code&gt; is the
user's numerical id, &lt;code&gt;GID&lt;/code&gt; is the id of the &lt;em&gt;first&lt;/em&gt; group the user belongs to,
&lt;code&gt;GECOS&lt;/code&gt; is an optional comment, &lt;code&gt;directory&lt;/code&gt; is the user's home directory, and
&lt;code&gt;shell&lt;/code&gt; is the path to the executable that launches the user's preferred
shell. As an example, a part of my &lt;code&gt;/etc/passwd&lt;/code&gt; file looks like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You can find the groups users belong to in the &lt;code&gt;/etc/group&lt;/code&gt; file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;::/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;:/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bash&lt;/span&gt;
&lt;span class="n"&gt;slarse&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;985&lt;/span&gt;&lt;span class="o"&gt;::/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="sr"&gt;/slarse:/bin/&lt;/span&gt;&lt;span class="n"&gt;bash&lt;/span&gt;
&lt;span class="n"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;970&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;970&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="o"&gt;:/&lt;/span&gt;&lt;span class="n"&gt;var&lt;/span&gt;&lt;span class="sr"&gt;/lib/mysql:/sbin/&lt;/span&gt;&lt;span class="n"&gt;nologin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We can see that the root user has the fields set as follows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;x
&lt;span class="nv"&gt;UID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;span class="nv"&gt;GID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;span class="nv"&gt;GECOS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
&lt;span class="nv"&gt;directory&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/root
&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The user and group IDs of the root user are always 0, and it typically has its
home directory in &lt;code&gt;/root&lt;/code&gt;. But is the password of root user really &lt;code&gt;x&lt;/code&gt;? No, it
isn't. An &lt;code&gt;x&lt;/code&gt; in the password field means that the password is located in the
&lt;em&gt;shadow&lt;/em&gt; file. More on that in the next section. The entry for my own user,
slarse, is largely similar to that of the root user.&lt;/p&gt;
&lt;p&gt;The entry for the mysql user is however a bit different. For starters, it has a
comment in the &lt;code&gt;GECOS&lt;/code&gt; field saying &lt;em&gt;MariaDB&lt;/em&gt;, which indicates that the mysql
user is actually used by the &lt;code&gt;MariaDB&lt;/code&gt; fork of the &lt;code&gt;MySQL&lt;/code&gt; database system. It
also has in interesting login shell, namely &lt;code&gt;/sbin/nologin&lt;/code&gt;. The description of
the &lt;code&gt;nologin&lt;/code&gt; program from its manpage simply reads: &lt;em&gt;nologin - politely refuse
a login&lt;/em&gt;. This program simply refuses a login, regardless of what credentials
are supplied.&lt;/p&gt;
&lt;p&gt;And that's pretty much it for what the &lt;code&gt;/etc/passwd&lt;/code&gt; file contains. For more
details, you can read the &lt;code&gt;passwd (5)&lt;/code&gt; manpage. Now, what about that shadow
file?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Hint:&lt;/strong&gt; To access section &lt;code&gt;Y&lt;/code&gt; of a manpage &lt;code&gt;PAGE&lt;/code&gt;, type &lt;code&gt;man PAGE.Y&lt;/code&gt; into a
terminal. For example, to access &lt;code&gt;passwd (5)&lt;/code&gt;, you type &lt;code&gt;man passwd.5&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The &lt;code&gt;/etc/shadow&lt;/code&gt; file&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;/etc/passwd&lt;/code&gt; file is a so-called &lt;em&gt;world-readable&lt;/em&gt;, meaning that any user on
the system can read it. Many programs use this file to map users to their ids,
for example, and so its broad accessibility is necessary. A side effect is that
storing encrypted passwords in the &lt;code&gt;/etc/passwd&lt;/code&gt; file lets any user that has
access to the system read the encrypted password of any other user. In times
long past, when cracking encrypted passwords was computationally infeasible,
this wasn't really a problem. Nowadays however, cracking an encrypted password
is only a matter of (feasible) time.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The &lt;code&gt;/etc/passwd&lt;/code&gt; file is word-readable, but it's only writeable by
root to avoid other users tampering with it, such as by replacing an &lt;code&gt;x&lt;/code&gt; with
an actual password.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;code&gt;/etc/shadow&lt;/code&gt; file presents a solution to this problem. It is readable only
by the root user, and contains the encrypted passwords of users with an &lt;code&gt;x&lt;/code&gt; in
the password field of their &lt;code&gt;/etc/passwd&lt;/code&gt; entry. The shadow file is technically
optional, but you will probably never find a system that doesn't use it.&lt;/p&gt;
&lt;p&gt;I won't go into detail on how the shadow file is structured, as it's not a file
that's typically accessed by user space programs. If you want to know more about
it, you can read the manpage of &lt;code&gt;shadow (5)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;And that's it for this article, hope you learned something!&lt;/p&gt;</content><category term="Linux"></category><category term="linux"></category></entry></feed>